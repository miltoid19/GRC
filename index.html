<!doctype html>
<html lang="en">
<head>
  <title>Gear Ratio Calculator</title>
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.7/css/all.css">
  <style>
  .changeTheme {
  background: #1D1E22;
  color: #eee;
} </style> 
  <style>
/* Toggle Dark Theme */
#theme-btn {
  font-size: 1.5rem;
  cursor: pointer;
  color: #596AFF;
}
#theme-btn:hover {
  color: #BB86FC;
}
.changeTheme {
  background: #1D1E22;
  color: #eee;
}
</style>
<body class="changeTheme">
  <div id="theme-btn" class="far fa-moon fa-sun"></div>
<script>
const themeBtn = document.getElementById("theme-btn");
themeBtn.onclick = () => {
  themeBtn.classList.toggle("fa-sun");
  if (themeBtn.classList.contains("fa-sun")) {
    document.body.classList.add("changeTheme");
  } else {
    document.body.classList.remove("changeTheme");
  }
}
</script>
</body>
</head>

  <body>
	<h1 style="text-align:center">Gear Ratio Calculator</h1>
  
  <table style="width:75%;margin-left:auto;margin-right:auto;text-align:center">
      <p style="text-align:center">Enter the values below to calculate the gear ratio between the first and second gear:</p>
    <tr>
        <td><label for="weight">Weight of Assembly in Kg:</label></td>
		<td><input type="number" id="weight" name="weight"><br><br></td>
    </tr>
    <tr>
		<td><label for="wattage">Motor Wattage in KW:</label></td>
		<td><input type="number" id="wattage" name="wattage"><br><br></td>
    </tr>
    <tr>
		<td><label for="gear1">Gear 1 Number of teeth:</label></td>
		<td><input type="number" id="gear1" name="gear1"><br><br></td>
    </tr>
	<tr>
		<td><label for="angle">Incline Angle Â°:</label></td>
		<td><input type="number" id="angle" name="angle"><br><br></td>
	</tr>
    <tr>
		<td><input type="button" value="Calculate Gear Ratio" onclick="calculateRatio()"></td>
      <td> <p id="result"></p> </td>
    </tr>
  </table>

<script>
		function calculateRatio() {
			var weight = document.getElementById("weight").value;
			var wattage = document.getElementById("wattage").value;
			var gear1 = document.getElementById("gear1").value;
			var angle = document.getElementById("angle").value;

			var ratio = Math.cbrt((weight * 9.81 * Math.sin(angle * Math.PI / 180)) / (wattage * 0.85 * gear1 ));
			document.getElementById("result").innerHTML = "The minimum required gear ratio should be " + gear1 + ":" + (ratio*gear1).toFixed(1) + " or simplified, 1:" + (ratio).toFixed(2) + ".";
		}
	</script>
</html>
